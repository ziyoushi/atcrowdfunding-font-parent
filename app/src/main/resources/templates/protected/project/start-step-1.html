<!DOCTYPE html>
<html lang="zh-CN" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
	<link rel="stylesheet" th:href="@{/bootstrap/css/bootstrap.min.css}">
	<link rel="stylesheet" th:href="@{/css/font-awesome.min.css}">
	<link rel="stylesheet" th:href="@{/css/theme.css}">
	<style>
#footer {
    padding: 15px 0;
    background: #fff;
    border-top: 1px solid #ddd;
    text-align: center;
}
#topcontrol {
  color: #fff;
  z-index: 99;
  width: 30px;
  height: 30px;
  font-size: 20px;
  background: #222;
  position: relative;
  right: 14px !important;
  bottom: 11px !important;
  border-radius: 3px !important;
} 

#topcontrol:after {
  /*top: -2px;*/
  left: 8.5px;
  content: "\f106";
  position: absolute;
  text-align: center;
  font-family: FontAwesome;
}

#topcontrol:hover {
    color: #fff;
    background: #18ba9b;
    -webkit-transition: all 0.3s ease-in-out;
    -moz-transition: all 0.3s ease-in-out;
    -o-transition: all 0.3s ease-in-out;
    transition: all 0.3s ease-in-out;
}

.label-type, .label-status, .label-order {
    background-color: #fff;
    color: #f60;
    padding : 5px;
    border: 1px #f60 solid;
}
#typeList  :not(:first-child) {
    margin-top:20px;
}
.label-txt {
    margin:10px 10px;
    border:1px solid #ddd;
    padding : 4px;
    font-size:14px;
}
.panel {
    border-radius:0;
}

.progress-bar-default {
    background-color: #ddd;
}

.tagSelectSpan {
    background-color: #9d9d9d;
}
	</style>
  </head>
  <body>

  <!-- 进行判断 获取session中的值    来选择 insert哪个 -->
  <div th:if="${session.loginUser == null}" th:insert="~{include/include :: unlogin_topbar}"></div>
  <!-- 如果已经登录 则 引入下面的代码 -->
  <div th:if="${session.loginUser != null}" th:insert="~{include/include :: login_topbar}"></div>

    <div class="container theme-showcase" role="main">

        <div class="container">
            <div class="row clearfix">
                <div class="col-md-12 column">
                    <nav class="navbar navbar-default" role="navigation">
                        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                            <ul class="nav navbar-nav">
                                <li>
                                    <a rel="nofollow" th:href="@{/index.html}"><i class="glyphicon glyphicon-home"></i> 众筹首页</a>
                                </li>
                                <li >
                                    <a rel="nofollow" th:href="@{/projects.html}"><i class="glyphicon glyphicon-th-large"></i> 项目总览</a>
                                </li>
                                <li class="active">
                                    <a rel="nofollow" href="javascript:;"><i class="glyphicon glyphicon-edit"></i> 发起项目</a>
                                </li>
                                <li>
                                    <a rel="nofollow" th:href="@{/minecrowdfunding.html}"><i class="glyphicon glyphicon-user"></i> 我的众筹</a>
                                </li>
                            </ul>
                        </div>
                    </nav>
                </div>
            </div>
        </div>
        
        
        <div class="container">
            <div class="row clearfix">
                <div class="col-md-12 column">
                    <div class="panel panel-default" >
                        <div class="panel-heading" style="text-align:center;">
                            <div class="container-fluid">
                                <div class="row clearfix">
                                    <div class="col-md-3 column">
                                        <div class="progress" style="height:50px;border-radius:0;    position: absolute;width: 75%;right:49px;">
                                          <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 100%;height:50px;">
                                            <div style="font-size:16px;margin-top:15px;">1. 项目及发起人信息</div>
                                          </div>
                                        </div>
                                        <div style="right: 0;border:10px solid #ddd;border-left-color: #88b7d5;border-width: 25px;position: absolute;
                                             border-left-color: rgba(92, 184, 92, 1);
                                             border-top-color: rgba(92, 184, 92, 0);
                                             border-bottom-color: rgba(92, 184, 92, 0);
                                             border-right-color: rgba(92, 184, 92, 0);
                                        ">
                                        </div>
                                    </div>
                                    <div class="col-md-3 column">
                                        <div class="progress" style="height:50px;border-radius:0;position: absolute;width: 75%;right:49px;">
                                          <div class="progress-bar progress-bar-default" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 100%;height:50px;">
                                            <div style="font-size:16px;margin-top:15px;">2. 回报设置</div>
                                          </div>
                                        </div>
                                        <div style="right: 0;border:10px solid #ddd;border-left-color: #88b7d5;border-width: 25px;position: absolute;
                                             border-left-color: rgba(221, 221, 221, 1);
                                             border-top-color: rgba(221, 221, 221, 0);
                                             border-bottom-color: rgba(221, 221, 221, 0);
                                             border-right-color: rgba(221, 221, 221, 0);
                                        ">
                                        </div>
                                    </div>
                                    <div class="col-md-3 column">
                                        <div class="progress" style="height:50px;border-radius:0;position: absolute;width: 75%;right:49px;">
                                          <div class="progress-bar progress-bar-default" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 100%;height:50px;">
                                            <div style="font-size:16px;margin-top:15px;">3. 确认信息</div>
                                          </div>
                                        </div>
                                        <div style="right: 0;border:10px solid #ddd;border-left-color: #88b7d5;border-width: 25px;position: absolute;
                                             border-left-color: rgba(221, 221, 221, 1);
                                             border-top-color: rgba(221, 221, 221, 0);
                                             border-bottom-color: rgba(221, 221, 221, 0);
                                             border-right-color: rgba(221, 221, 221, 0);
                                        ">
                                        </div>
                                    </div>
                                    <div class="col-md-3 column">
                                        <div class="progress" style="height:50px;border-radius:0;">
                                          <div class="progress-bar progress-bar-default" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 100%;height:50px;">
                                            <div style="font-size:16px;margin-top:15px;">4. 完成</div>
                                          </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="panel-body">
<div class="container-fluid">
	<div class="row clearfix">
		<div class="col-md-12 column">
			<blockquote style="border-left: 5px solid #f60;color:#f60;padding: 0 0 0 20px;">
				<b>
					项目及发起人信息
				</b>
			</blockquote>
		</div>
		<div class="col-md-12 column">
			<div class="page-header" style="border-bottom-style: dashed;">
				<h3>
					项目信息
				</h3>
			</div>
            <form class="form-horizontal"  th:action="@{/project/start-step-2.html}" method="post" id="baseInfoForm" enctype="multipart/form-data">
              <div class="form-group">
                <label  class="col-sm-2 control-label">分类信息</label>
                <div class="col-sm-10">
                     <label class="radio-inline" th:each="sysType :${types}">
                         <!-- 这里有一个坑 会造成400 400的原因 当这个值与封装的值对应不上时会报错 -->
                      <input type="checkbox" name="typeids"  th:value="${sysType.id}"> [[${sysType.name}]]
                    </label>

                </div>
              </div>
              <div class="form-group">
                <label  class="col-sm-2 control-label">标签</label>
                <div class="col-sm-10">
                    <ul style="list-style:none;padding-left:0;">
                        <li style="margin:10px 0" th:each="sysTag :${tags}">[[${sysTag.name}]]
                            <span class="label-txt tagspan" th:each="child:${sysTag.child}" th:id="${child.id}">[[${child.name}]]
                            <input type="checkbox" style="display: none" name="tagids" th:value="${child.id}" />
                            </span>
                        </li>

                    </ul>
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-2 control-label">项目名称</label>
                <div class="col-sm-10">
                  <input type="text" name="name" class="form-control" >
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-2 control-label">一句话简介</label>
                <div class="col-sm-10">
                  <textarea class="form-control" name="remark" rows="5"></textarea>
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-2 control-label">筹资金额（元）</label>
                <div class="col-sm-10">
                  <input type="text" name="money" class="form-control" style="width:100px;" >
                  <label class="control-label">筹资金额不能低于100元,不能高于1000000000元</label>
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-2 control-label">筹资天数（天）</label>
                <div class="col-sm-10">
                  <input type="text" name="day" class="form-control" style="width:100px;" >
                  <label class="control-label">一般10-90天，建议30天</label>
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-2 control-label">项目头图</label>
                <div class="col-sm-10">
                  <button type="button" class="btn btn-primary btn-lg active" id="uploadHeadBtn">上传图片</button>
                    <input type="file" id="uploadHeaderInput" name="header" style="display: none"  />
                  <label class="control-label">图片上无文字,支持jpg、jpeg、png、gif格式，大小不超过2M，建议尺寸：740*457px</label>

                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-2 control-label">项目详情</label>
                <div class="col-sm-10">
                  <button type="button" class="btn btn-primary btn-lg active" id="uploadItemBtn">上传图片</button>
                    <input type="file" id="uploadItemInput" multiple name="details" style="display: none"  />
                  <label class="control-label">支持jpg、jpeg、png、gif格式，大小不超过2M，建议尺寸：宽740px</label>
                </div>
              </div>
            </form>
		</div>
		<!--<div class="col-md-12 column">
			<div class="page-header" style="border-bottom-style: dashed;">
				<h3>
					发起人信息
				</h3>
			</div>
            <form class="form-horizontal">
              <div class="form-group">
                <label class="col-sm-2 control-label">自我介绍</label>
                <div class="col-sm-10">
                  <input type="text" class="form-control" placeholder="一句话自我介绍，不超过40字">
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-2 control-label">详细自我介绍</label>
                <div class="col-sm-10">
                  <textarea class="form-control" rows="5" placeholder="向支持者详细介绍你自己或你的团队及项目背景，让支持者在最短时间内了解你，不超过160字"></textarea>
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-2 control-label">联系电话</label>
                <div class="col-sm-10">
                  <input type="text" class="form-control" placeholder="此信息不会显示在项目页面">
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-2 control-label">客服电话</label>
                <div class="col-sm-10">
                  <input type="text" class="form-control" placeholder="此信息显示在项目页面">
                </div>
              </div>
            </form>
		</div>-->
	</div>
</div>
                        </div>
                        <div class="panel-footer" style="text-align:center;">
                            <button type="button" class="btn  btn-warning btn-lg" th:onclick="submitBastInfo()">下一步</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        

        <div class="container" style="margin-top:20px;">
            <div class="row clearfix">
                <div class="col-md-12 column">
                    <div id="footer">
                        <div class="footerNav">
                             <a rel="nofollow" href="http://www.layoutit.cn">关于我们</a> | <a rel="nofollow" href="http://www.layoutit.cn">服务条款</a> | <a rel="nofollow" href="http://www.layoutit.cn">免责声明</a> | <a rel="nofollow" href="http://www.layoutit.cn">网站地图</a> | <a rel="nofollow" href="http://www.layoutit.cn">联系我们</a>
                        </div>
                        <div class="copyRight">
                            Copyright ?2017-2017layoutit.cn 版权所有
                        </div>
                    </div>
                    
                </div>
            </div>
        </div>
      
    </div> <!-- /container -->
    <script th:src="@{/jquery/jquery-2.1.1.min.js}"></script>
    <script th:src="@{/bootstrap/js/bootstrap.min.js}"></script>
	<script th:src="@{/script/docs.min.js}"></script>
    <script th:src="@{/script/back-to-top.js}"></script>
	<script>
        $('#myTab a').click(function (e) {
          e.preventDefault()
          $(this).tab('show')
        });

        $(".tagspan").click(function () {
            $(this).toggleClass("tagSelectSpan");
            if ($(this).hasClass("tagSelectSpan")) {
                //被选中。把里面的check钩中
                $(this).find("input[name='tagids']").prop("checked", true);
            } else {
                $(this).find("input[name='tagids']").prop("checked", false);
            }

            console.log($(this).find("input[name='tagids']").prop("checked"));
        });

        //模拟鼠标单击
        $("#uploadHeadBtn").click(function () {
            $("#uploadHeaderInput").click();
        });

        //uploadItemInput
        $("#uploadItemBtn").click(function () {
            $("#uploadItemInput").click();
        });

        function submitBastInfo() {
            $("#baseInfoForm").submit();
        }



	</script>
  </body>
</html>